<!DOCTYPE html>
<!--suppress HtmlUnknownAttribute, CheckEmptyScriptTag -->
<html xmlns:th="http://www.thymeleaf.org"
      th:with="title=#{dayReport.label.title}+' '+((${entity.user} == null) ? '' : ${entity.user.fullName})+' - '+${{entity.date}}">
    <head lang="en">
        <meta charset="UTF-8"/>
        <title th:text="${title}"/>
    </head>
    <body>
        <a th:href="@{/dayReports}" th:text="#{dayReport.label.toDayReportsList}"/>
        <h2 th:text="${title}"/>
        <!--TODO Не работает post реквест -->
        <form th:object="${entity}" method="post">
            <fieldset>
                <input type="hidden" th:field="*{id}"/>
                <table class="data">
                    <tr>
                        <td th:text="#{dayReport.label.user}" />
                        <td>
                            <select th:field="*{user}">
                                <option th:if="*{user}==null" value="" th:text="#{dayReport.label.userPlaceholder}" style="display: none" />
                                <option th:each="user : ${userList}"
                                        th:value="${user.id}"
                                        th:text="${user.fullName}"/>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td th:text="#{dayReport.label.date}" />
                        <td><input type="date" id="date" name="date" th:value="*{date}" /></td>
                    </tr>
                    <tr>
                        <td th:text="#{dayReport.label.text}" />
                        <td><textarea th:field="*{text}" /></td>
                        <!--TODO В textarea выводятся екранированые теги-->
                    </tr>
                </table>
                <input type="submit" th:value="#{button.label.saveButton}" />
            </fieldset>
        </form>
    </body>
</html>
