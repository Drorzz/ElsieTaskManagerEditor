<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: Denis Ivansky
  Date: 06.12.13
  Time: 17:15
-->
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="/pages/templates/mainTemplate.xhtml">

    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="id" value="#{userBean.id}" >
                <f:viewAction action="#{userBean.init}" />
            </f:viewParam>
        </f:metadata>
    </ui:define>

    <ui:define name="content">
        <h:link value="#{i18n['user.returnToList']}" outcome="users"/>
        <h:form prependId="false">
            <h:panelGrid columns="2" rowClasses="padding05td">
                <h:outputLabel value="#{i18n['user.login']}" for="login" />
                    <h:inputText id="login" value="#{userBean.entity.login}" size="30"/>

                <h:outputLabel value="#{i18n['user.password']}" for="password" />
                    <h:inputSecret id="password" value="#{userBean.entity.password}" size="30" redisplay="true"/>

                <h:outputLabel value="#{i18n['user.lastName']}" for="lastName"/>
                    <h:inputText id="lastName" value="#{userBean.entity.lastName}" size="30"/>

                <h:outputLabel value="#{i18n['user.firstName']}" for="firstName" />
                     <h:inputText id="firstName" value="#{userBean.entity.firstName}" size="30"/>

                <h:outputLabel value="#{i18n['user.email']}" for="email" />
                    <h:inputText id="email" value="#{userBean.entity.email}" size="30"/>

                <h:outputLabel value="#{i18n['user.position']}" for="position" />
                    <h:inputText id="position" value="#{userBean.entity.position}" size="30"/>

                <h:outputLabel value="#{i18n['user.department.label']}" for="department" />
                    <h:selectOneMenu id="department" value="#{userBean.entity.department}"  size="30">
                        <f:selectItem itemLabel="#{i18n['user.department.defaultSelect']} "
                                      noSelectionOption="true" itemDisabled="true"/>
                        <f:selectItems value="#{departmentsBean.allDepartments}" var="dep"
                                       itemValue="#{dep}" itemLabel=" #{dep.name}"/>
                    </h:selectOneMenu>

                <h:outputLabel value="#{i18n['user.chief.label']}" for="chief" />
                    <h:selectOneMenu id="chief" value="#{userBean.entity.chief}"  size="30">
                        <f:selectItem itemLabel="#{i18n['user.chief.defaultSelect']} "
                                      noSelectionOption="true" itemDisabled="true"/>
                        <f:selectItems value="#{usersBean.filteredByActive}" var="us"
                                       itemValue="#{us}" itemLabel=" #{us.fullName}"/>
                    </h:selectOneMenu>

                <h:outputLabel value="#{i18n['user.accessLevel']}" for="accessLevel" />
                    <h:selectOneMenu id="accessLevel" value="#{userBean.entity.accessLevel}" size="30">
                        <f:selectItems value="#{userBean.accessLevelList}" var="lvl"
                                       itemValue="#{lvl}" itemLabel="#{i18n['user.accessLevel.'.concat(lvl)]}"/>
                    </h:selectOneMenu>

                <h:outputLabel value="#{i18n['user.vacation']}" for="vacation" />
                    <h:selectBooleanCheckbox id="vacation" value="#{userBean.entity.vacation}" />

                <h:outputLabel value="#{i18n['user.active.label']}" for="active"   />
                    <h:selectBooleanCheckbox id="active" value="#{userBean.entity.active}" />
            </h:panelGrid>

            <h:commandButton value="#{i18n['button.save']}"
                             style="padding: 3px"
                             action="#{userBean.saveUser()}"/>
        </h:form>
    </ui:define>
</ui:composition>
